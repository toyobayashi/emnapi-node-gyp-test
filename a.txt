{'target_build_files': {'binding.gyp'}, 'binding.gyp': {'targets': [{'libraries': [], 'default_configuration': 'Release', 'type': 'executable', 'product_prefix': '', 'configurations': {'Debug': {'cflags': ['-Wall', '-Wextra', '-Wno-unused-parameter', '--target=wasm32-unknown-unknown', '-g', '-O0'], 'defines': ['NODE_GYP_MODULE_NAME=binding', 'USING_UV_SHARED=1', 'USING_V8_SHARED=1', 'V8_DEPRECATION_WARNINGS=1', 'BUILDING_NODE_EXTENSION', '__STDC_FORMAT_MACROS', '_LARGEFILE_SOURCE', '_FILE_OFFSET_BITS=64', 'PAGESIZE=65536', 'DEBUG', '_DEBUG'], 'include_dirs': ['/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/include/node', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/src', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/openssl/config', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/openssl/openssl/include', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/uv/include', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/zlib', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/v8/include'], 'win_delay_load_hook': 'true', 'cflags_cc': ['-fno-rtti', '-fno-exceptions', '-std=c++17'], 'xcode_settings': {'CLANG_CXX_LANGUAGE_STANDARD': 'c++17', 'GCC_ENABLE_CPP_RTTI': 'NO', 'GCC_ENABLE_CPP_EXCEPTIONS': 'NO', 'WARNING_CFLAGS': ['-Wall', '-Wextra', '-Wno-unused-parameter', '--target=wasm32-unknown-unknown', '-g', '-O0'], 'OTHER_LDFLAGS': ['--target=wasm32-unknown-unknown', '-Wl,--export-dynamic', '-Wl,--export=malloc', '-Wl,--export=free', '-Wl,--export=napi_register_wasm_v1', '-Wl,--export-if-defined=node_api_module_get_api_version_v1', '-Wl,--import-undefined', '-Wl,--export-table', '-Wl,-zstack-size=1048576', '-Wl,--initial-memory=16777216', '-Wl,--max-memory=2147483648', '-nostdlib', '-Wl,--no-entry', '-g', '-O0']}, 'ldflags': ['--target=wasm32-unknown-unknown', '-Wl,--export-dynamic', '-Wl,--export=malloc', '-Wl,--export=free', '-Wl,--export=napi_register_wasm_v1', '-Wl,--export-if-defined=node_api_module_get_api_version_v1', '-Wl,--import-undefined', '-Wl,--export-table', '-Wl,-zstack-size=1048576', '-Wl,--initial-memory=16777216', '-Wl,--max-memory=2147483648', '-nostdlib', '-Wl,--no-entry', '-g', '-O0']}, 'Release': {'cflags': ['-Wall', '-Wextra', '-Wno-unused-parameter', '--target=wasm32-unknown-unknown', '-O3'], 'defines': ['NODE_GYP_MODULE_NAME=binding', 'USING_UV_SHARED=1', 'USING_V8_SHARED=1', 'V8_DEPRECATION_WARNINGS=1', 'BUILDING_NODE_EXTENSION', '__STDC_FORMAT_MACROS', '_LARGEFILE_SOURCE', '_FILE_OFFSET_BITS=64', 'PAGESIZE=65536'], 'include_dirs': ['/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/include/node', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/src', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/openssl/config', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/openssl/openssl/include', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/uv/include', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/zlib', '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/deps/v8/include'], 'win_delay_load_hook': 'true', 'cflags_cc': ['-fno-rtti', '-fno-exceptions', '-std=c++17'], 'xcode_settings': {'CLANG_CXX_LANGUAGE_STANDARD': 'c++17', 'GCC_ENABLE_CPP_RTTI': 'NO', 'GCC_ENABLE_CPP_EXCEPTIONS': 'NO', 'WARNING_CFLAGS': ['-Wall', '-Wextra', '-Wno-unused-parameter', '--target=wasm32-unknown-unknown', '-O3'], 'OTHER_LDFLAGS': ['--target=wasm32-unknown-unknown', '-Wl,--export-dynamic', '-Wl,--export=malloc', '-Wl,--export=free', '-Wl,--export=napi_register_wasm_v1', '-Wl,--export-if-defined=node_api_module_get_api_version_v1', '-Wl,--import-undefined', '-Wl,--export-table', '-Wl,-zstack-size=1048576', '-Wl,--initial-memory=16777216', '-Wl,--max-memory=2147483648', '-nostdlib', '-Wl,--no-entry', '-O3', '-Wl,--strip-debug']}, 'ldflags': ['--target=wasm32-unknown-unknown', '-Wl,--export-dynamic', '-Wl,--export=malloc', '-Wl,--export=free', '-Wl,--export=napi_register_wasm_v1', '-Wl,--export-if-defined=node_api_module_get_api_version_v1', '-Wl,--import-undefined', '-Wl,--export-table', '-Wl,-zstack-size=1048576', '-Wl,--initial-memory=16777216', '-Wl,--max-memory=2147483648', '-nostdlib', '-Wl,--no-entry', '-O3', '-Wl,--strip-debug']}}, 'target_name': 'binding', 'sources': ['src/binding.c', 'src/hello.cpp', 'node_modules/emnapi/src/js_native_api.c', 'node_modules/emnapi/src/node_api.c', 'node_modules/emnapi/src/async_cleanup_hook.c', 'node_modules/emnapi/src/async_context.c', 'node_modules/emnapi/src/async_work.c', 'node_modules/emnapi/src/threadsafe_function.c', 'node_modules/emnapi/src/uv/uv-common.c', 'node_modules/emnapi/src/uv/threadpool.c', 'node_modules/emnapi/src/uv/unix/loop.c', 'node_modules/emnapi/src/uv/unix/thread.c', 'node_modules/emnapi/src/uv/unix/async.c', 'node_modules/emnapi/src/uv/unix/core.c', 'node_modules/emnapi/src/malloc/sbrk.c', 'node_modules/emnapi/src/malloc/memcpy.c', 'node_modules/emnapi/src/malloc/memset.c', 'node_modules/emnapi/src/malloc/dlmalloc/dlmalloc.c'], 'toolset': 'target', 'product_extension': 'wasm'}], 'variables': {'napi_build_version': '9', 'target_arch': 'wasm32', 'nodedir': '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi', 'python': '/Applications/Xcode.app/Contents/Developer/usr/bin/python3', 'standalone_static_library': '1', 'global_prefix': '/Users/toyobayashi/.nvm/versions/node/v20.10.0', 'home': 'https://npmmirror.com', 'registry': 'https://registry.npmmirror.com/', 'local_prefix': '/Users/toyobayashi/code/github/emnapi-node-gyp-test', 'globalconfig': '/Users/toyobayashi/.nvm/versions/node/v20.10.0/etc/npmrc', 'userconfig': '/Users/toyobayashi/.npmrc', 'init_module': '/Users/toyobayashi/.npm-init.js', 'npm_version': '10.2.3', 'node_gyp': '/Users/toyobayashi/.nvm/versions/node/v20.10.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js', 'cache': '/Users/toyobayashi/.npm', 'user_agent': 'npm/10.2.3 node/v20.10.0 darwin arm64 workspaces/false', 'prefix': '/Users/toyobayashi/.nvm/versions/node/v20.10.0', 'node_engine_include_dir%': 'deps/v8/include', 'node_host_binary%': 'node', 'node_with_ltcg%': 'true', 'clang': '1', 'target_arch%': 'wasm32', 'wasm_threads%': '0', 'stack_size%': '1048576', 'initial_memory%': '16777216', 'max_memory%': '2147483648', 'emnapi_js_library%': '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/dist/library_napi.js'}, '_DEPTH': '.', 'included_files': ['binding.gyp', 'build/config.gypi', 'node_modules/node-gyp/addon.gypi', 'node_modules/emnapi/common.gypi']}, '/Users/toyobayashi/code/github/emnapi-node-gyp-test/build/config.gypi': {'variables': {'napi_build_version': '9', 'target_arch': 'wasm32', 'nodedir': '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi', 'python': '/Applications/Xcode.app/Contents/Developer/usr/bin/python3', 'standalone_static_library': '1', 'global_prefix': '/Users/toyobayashi/.nvm/versions/node/v20.10.0', 'home': 'https://npmmirror.com', 'registry': 'https://registry.npmmirror.com/', 'local_prefix': '/Users/toyobayashi/code/github/emnapi-node-gyp-test', 'globalconfig': '/Users/toyobayashi/.nvm/versions/node/v20.10.0/etc/npmrc', 'userconfig': '/Users/toyobayashi/.npmrc', 'init_module': '/Users/toyobayashi/.npm-init.js', 'npm_version': '10.2.3', 'node_gyp': '/Users/toyobayashi/.nvm/versions/node/v20.10.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js', 'cache': '/Users/toyobayashi/.npm', 'user_agent': 'npm/10.2.3 node/v20.10.0 darwin arm64 workspaces/false', 'prefix': '/Users/toyobayashi/.nvm/versions/node/v20.10.0'}, 'target_defaults': {'cflags': [], 'defines': [], 'include_dirs': [], 'libraries': [], 'default_configuration': 'Release'}}, '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/node-gyp/addon.gypi': {'variables': {'node_engine_include_dir%': 'deps/v8/include', 'node_host_binary%': 'node', 'node_with_ltcg%': 'true'}, 'target_defaults': {'type': 'loadable_module', 'win_delay_load_hook': 'true', 'product_prefix': '', 'conditions': [['OS=="mac"', {'defines': ['_DARWIN_USE_64_BIT_INODE=1'], 'xcode_settings': {'DYLIB_INSTALL_NAME_BASE': '@rpath'}}], ['OS=="aix"', {'ldflags': ['-Wl,-bimport:<(node_exp_file)']}], ['OS=="os400"', {'ldflags': ['-Wl,-bimport:<(node_exp_file)']}], ['OS=="zos"', {'conditions': [['"<!(echo $CC)" != "clang" and              "<!(echo $CC)" != "ibm-clang64" and              "<!(echo $CC)" != "ibm-clang"', {'cflags': ['-q64', '-Wc,DLL', '-qlonglong', '-qenum=int', '-qxclang=-fexec-charset=ISO8859-1'], 'ldflags': ['-q64', '<(node_exp_file)']}, {'cflags': ['-m64'], 'ldflags': ['-m64', '<(node_exp_file)']}]], 'defines': ['_ALL_SOURCE', 'MAP_FAILED=-1', '_UNIX03_SOURCE']}], ['OS=="win"', {'conditions': [['node_engine=="chakracore"', {'library_dirs': ['<(node_root_dir)/$(ConfigurationName)'], 'libraries': ['<@(node_engine_libs)']}], ['node_with_ltcg=="true"', {'msvs_settings': {'VCCLCompilerTool': {'WholeProgramOptimization': 'true'}, 'VCLibrarianTool': {'AdditionalOptions': ['/LTCG:INCREMENTAL']}, 'VCLinkerTool': {'OptimizeReferences': '2', 'EnableCOMDATFolding': '2', 'LinkIncremental': '1', 'AdditionalOptions': ['/LTCG:INCREMENTAL']}}}]], 'libraries': ['-lkernel32.lib', '-luser32.lib', '-lgdi32.lib', '-lwinspool.lib', '-lcomdlg32.lib', '-ladvapi32.lib', '-lshell32.lib', '-lole32.lib', '-loleaut32.lib', '-luuid.lib', '-lodbc32.lib', '-lDelayImp.lib', '-l"<(node_lib_file)"'], 'msvs_disabled_warnings': ['4251']}, {'defines': ['_LARGEFILE_SOURCE', '_FILE_OFFSET_BITS=64']}], ['OS in "freebsd openbsd netbsd solaris android" or          (OS=="linux" and target_arch!="ia32")', {'cflags': ['-fPIC']}]], 'include_dirs': ['<(node_root_dir)/include/node', '<(node_root_dir)/src', '<(node_root_dir)/deps/openssl/config', '<(node_root_dir)/deps/openssl/openssl/include', '<(node_root_dir)/deps/uv/include', '<(node_root_dir)/deps/zlib', '<(node_root_dir)/<(node_engine_include_dir)'], 'defines!': ['BUILDING_UV_SHARED=1', 'BUILDING_V8_SHARED=1'], 'defines': ['NODE_GYP_MODULE_NAME=>(_target_name)', 'USING_UV_SHARED=1', 'USING_V8_SHARED=1', 'V8_DEPRECATION_WARNINGS=1'], 'target_conditions': [['_type=="loadable_module"', {'product_extension': 'node', 'defines': ['BUILDING_NODE_EXTENSION'], 'xcode_settings': {'OTHER_LDFLAGS': ['-undefined dynamic_lookup']}}], ['_type=="static_library"', {'standalone_static_library': '<(standalone_static_library)'}], ['_type!="executable"', {'conditions': [['OS=="android"', {'cflags!': ['-fPIE']}]]}], ['_win_delay_load_hook=="true"', {'conditions': [['OS=="win"', {'defines': ['HOST_BINARY="<(node_host_binary)<(EXECUTABLE_SUFFIX)"'], 'sources': ['<(node_gyp_dir)/src/win_delay_load_hook.cc'], 'msvs_settings': {'VCLinkerTool': {'DelayLoadDLLs': ['<(node_host_binary)<(EXECUTABLE_SUFFIX)'], 'AdditionalOptions': ['/ignore:4199']}}}]]}]]}}, '/Users/toyobayashi/code/github/emnapi-node-gyp-test/node_modules/emnapi/common.gypi': {'variables': {'clang': '1', 'target_arch%': 'wasm32', 'wasm_threads%': '0', 'stack_size%': '1048576', 'initial_memory%': '16777216', 'max_memory%': '2147483648', 'emnapi_js_library%': '<!(node -p "(()=>{try{return require(\'emnapi\').js_library}catch(e){return \'\'}})()")'}, 'target_defaults': {'type': 'executable', 'defines': ['BUILDING_NODE_EXTENSION', '__STDC_FORMAT_MACROS'], 'cflags': ['-Wall', '-Wextra', '-Wno-unused-parameter'], 'cflags_cc': ['-fno-rtti', '-fno-exceptions', '-std=c++17'], 'xcode_settings': {'CLANG_CXX_LANGUAGE_STANDARD': 'c++17', 'GCC_ENABLE_CPP_RTTI': 'NO', 'GCC_ENABLE_CPP_EXCEPTIONS': 'NO', 'WARNING_CFLAGS': ['-Wall', '-Wextra', '-Wno-unused-parameter']}, 'default_configuration': 'Release', 'configurations': {'Debug': {'defines': ['DEBUG', '_DEBUG'], 'cflags': ['-g', '-O0'], 'ldflags': ['-g', '-O0'], 'xcode_settings': {'WARNING_CFLAGS': ['-g', '-O0'], 'OTHER_LDFLAGS': ['-g', '-O0']}}, 'Release': {'cflags': ['-O3'], 'ldflags': ['-O3'], 'xcode_settings': {'WARNING_CFLAGS': ['-O3'], 'OTHER_LDFLAGS': ['-O3']}}}, 'conditions': [['OS == "emscripten"', {'defines': ['NAPI_EXTERN=__attribute__((__import_module__("env")))'], 'cflags': ['-sDEFAULT_TO_CXX=0'], 'ldflags': ['-sALLOW_MEMORY_GROWTH=1', "-sEXPORTED_FUNCTIONS=['_malloc','_free','_napi_register_wasm_v1','_node_api_module_get_api_version_v1']", '-sNODEJS_CATCH_EXIT=0', '-sNODEJS_CATCH_REJECTION=0', '-sWASM_BIGINT=1', '-sMIN_CHROME_VERSION=84', '-sMIN_NODE_VERSION=161500', '-sSTACK_SIZE=<(stack_size)', '-sDEFAULT_PTHREAD_STACK_SIZE=<(stack_size)', '-sINITIAL_MEMORY=<(initial_memory)', '-sMAXIMUM_MEMORY=<(max_memory)'], 'xcode_settings': {'WARNING_CFLAGS': ['-sDEFAULT_TO_CXX=0'], 'OTHER_LDFLAGS': ['-sALLOW_MEMORY_GROWTH=1', "-sEXPORTED_FUNCTIONS=['_malloc','_free','_napi_register_wasm_v1','_node_api_module_get_api_version_v1']", '-sNODEJS_CATCH_EXIT=0', '-sNODEJS_CATCH_REJECTION=0', '-sWASM_BIGINT=1', '-sMIN_CHROME_VERSION=84', '-sMIN_NODE_VERSION=161500', '-sSTACK_SIZE=<(stack_size)', '-sDEFAULT_PTHREAD_STACK_SIZE=<(stack_size)', '-sINITIAL_MEMORY=<(initial_memory)', '-sMAXIMUM_MEMORY=<(max_memory)']}, 'configurations': {'Debug': {'ldflags': ['-sSAFE_HEAP=1'], 'xcode_settings': {'OTHER_LDFLAGS': ['-sSAFE_HEAP=1']}}}, 'conditions': [['target_arch == "wasm64"', {'cflags': ['-sMEMORY64=1'], 'ldflags': ['-sMEMORY64=1'], 'xcode_settings': {'WARNING_CFLAGS': ['-sMEMORY64=1'], 'OTHER_LDFLAGS': ['-sMEMORY64=1']}}], ['wasm_threads != 0', {'cflags': ['-sWASM_WORKERS=1', '-pthread'], 'ldflags': ['-pthread'], 'xcode_settings': {'WARNING_CFLAGS': ['-sWASM_WORKERS=1', '-pthread'], 'OTHER_LDFLAGS': ['-pthread']}}]]}], ['OS == "" or OS == "wasi" or OS == "unknown"', {'configurations': {'Release': {'ldflags': ['-Wl,--strip-debug'], 'xcode_settings': {'OTHER_LDFLAGS': ['-Wl,--strip-debug']}}}, 'conditions': [['wasm_threads != 0', {'cflags': ['-matomics', '-mbulk-memory'], 'xcode_settings': {'WARNING_CFLAGS': ['-matomics', '-mbulk-memory']}}], ['OS == "wasi"', {'ldflags': ['-mexec-model=reactor'], 'xcode_settings': {'OTHER_LDFLAGS': ['-mexec-model=reactor']}, 'conditions': [['wasm_threads != 0', {'cflags': ['--target=wasm32-wasi-threads', '-pthread'], 'ldflags': ['--target=wasm32-wasi-threads', '-pthread'], 'xcode_settings': {'WARNING_CFLAGS': ['--target=wasm32-wasi-threads', '-pthread'], 'OTHER_LDFLAGS': ['--target=wasm32-wasi-threads', '-pthread']}}, {'cflags': ['--target=wasm32-wasi'], 'ldflags': ['--target=wasm32-wasi'], 'xcode_settings': {'WARNING_CFLAGS': ['--target=wasm32-wasi'], 'OTHER_LDFLAGS': ['--target=wasm32-wasi']}}]]}, {'cflags': ['--target=wasm32-unknown-unknown'], 'ldflags': ['--target=wasm32-unknown-unknown'], 'xcode_settings': {'WARNING_CFLAGS': ['--target=wasm32-unknown-unknown'], 'OTHER_LDFLAGS': ['--target=wasm32-unknown-unknown']}}]]}]], 'target_conditions': [['_type=="executable"', {'sources': ['src/js_native_api.c', 'src/node_api.c', 'src/async_cleanup_hook.c', 'src/async_context.c', 'src/async_work.c', 'src/threadsafe_function.c', 'src/uv/uv-common.c', 'src/uv/threadpool.c', 'src/uv/unix/loop.c', 'src/uv/unix/thread.c', 'src/uv/unix/async.c', 'src/uv/unix/core.c'], 'conditions': [['OS == "emscripten"', {'conditions': [['emnapi_js_library != ""', {'library_dirs': ['dist'], 'libraries': ['--js-library=napi']}]]}], ['OS == "" or OS == "wasi" or OS == "unknown"', {'product_extension': 'wasm', 'ldflags': ['-Wl,--export-dynamic', '-Wl,--export=malloc', '-Wl,--export=free', '-Wl,--export=napi_register_wasm_v1', '-Wl,--export-if-defined=node_api_module_get_api_version_v1', '-Wl,--import-undefined', '-Wl,--export-table', '-Wl,-zstack-size=<(stack_size)', '-Wl,--initial-memory=<(initial_memory)', '-Wl,--max-memory=<(max_memory)'], 'xcode_settings': {'OTHER_LDFLAGS': ['-Wl,--export-dynamic', '-Wl,--export=malloc', '-Wl,--export=free', '-Wl,--export=napi_register_wasm_v1', '-Wl,--export-if-defined=node_api_module_get_api_version_v1', '-Wl,--import-undefined', '-Wl,--export-table', '-Wl,-zstack-size=<(stack_size)', '-Wl,--initial-memory=<(initial_memory)', '-Wl,--max-memory=<(max_memory)']}, 'conditions': [['wasm_threads != 0', {'ldflags': ['-Wl,--import-memory', '-Wl,--shared-memory'], 'xcode_settings': {'OTHER_LDFLAGS': ['-Wl,--import-memory', '-Wl,--shared-memory']}}], ['OS != "wasi"', {'defines': ['PAGESIZE=65536'], 'ldflags': ['-nostdlib', '-Wl,--no-entry'], 'xcode_settings': {'OTHER_LDFLAGS': ['-nostdlib', '-Wl,--no-entry']}, 'sources': ['src/malloc/sbrk.c', 'src/malloc/memcpy.c', 'src/malloc/memset.c', 'src/malloc/dlmalloc/dlmalloc.c'], 'conditions': [['wasm_threads != 0', {'sources': ['src/thread/async_worker_create.c', 'src/thread/async_worker_init.S'], 'defines': ['USE_LOCKS=1'], 'ldflags': ['-Wl,--export=emnapi_async_worker_create', '-Wl,--export=emnapi_async_worker_init'], 'xcode_settings': {'OTHER_LDFLAGS': ['-Wl,--export=emnapi_async_worker_create', '-Wl,--export=emnapi_async_worker_init']}}]]}]]}]]}]]}}}